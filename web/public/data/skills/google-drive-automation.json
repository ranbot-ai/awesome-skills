{
  "id": "composio-google-drive-automation",
  "name": "google-drive-automation",
  "slug": "google-drive-automation",
  "description": "Automate Google Drive file operations (upload, download, search, share, organize) via Rube MCP (Composio). Upload/download files, manage folders, share with permissions, and search across drives programmatically.",
  "category": "Development & Code Tools",
  "source": "composio",
  "repoUrl": "https://github.com/ComposioHQ/awesome-claude-skills",
  "skillUrl": "https://github.com/ComposioHQ/awesome-claude-skills/tree/master/google-drive-automation",
  "content": "\n# Google Drive Automation via Rube MCP\n\nAutomate Google Drive workflows including file upload/download, search, folder management, sharing/permissions, and organization through Composio's Google Drive toolkit.\n\n## Prerequisites\n\n- Rube MCP must be connected (RUBE_SEARCH_TOOLS available)\n- Active Google Drive connection via `RUBE_MANAGE_CONNECTIONS` with toolkit `googledrive`\n- Always call `RUBE_SEARCH_TOOLS` first to get current tool schemas\n\n## Setup\n\n**Get Rube MCP**: Add `https://rube.app/mcp` as an MCP server in your client configuration. No API keys needed â€” just add the endpoint and it works.\n\n\n1. Verify Rube MCP is available by confirming `RUBE_SEARCH_TOOLS` responds\n2. Call `RUBE_MANAGE_CONNECTIONS` with toolkit `googledrive`\n3. If connection is not ACTIVE, follow the returned auth link to complete Google OAuth\n4. Confirm connection status shows ACTIVE before running any workflows\n\n## Core Workflows\n\n### 1. Upload and Download Files\n\n**When to use**: User wants to upload files to or download files from Google Drive\n\n**Tool sequence**:\n1. `GOOGLEDRIVE_FIND_FILE` - Locate target folder for upload [Prerequisite]\n2. `GOOGLEDRIVE_UPLOAD_FILE` - Upload a file (max 5MB) [Required]\n3. `GOOGLEDRIVE_RESUMABLE_UPLOAD` - Upload large files [Fallback]\n4. `GOOGLEDRIVE_DOWNLOAD_FILE` - Download a file by ID [Required]\n5. `GOOGLEDRIVE_DOWNLOAD_FILE_OPERATION` - Track long-running downloads [Fallback]\n6. `GOOGLEDRIVE_GET_FILE_METADATA` - Verify file after upload/download [Optional]\n\n**Key parameters**:\n- `file_to_upload`: Object with `name`, `mimetype`, and `s3key` (file must be in internal storage)\n- `folder_to_upload_to`: Target folder ID (optional; uploads to root if omitted)\n- `file_id`: ID of file to download\n- `mime_type`: Export format for Google Workspace files only (omit for native files)\n\n**Pitfalls**:\n- `GOOGLEDRIVE_UPLOAD_FILE` requires `file_to_upload.s3key`; files must already be in internal storage\n- For non-Google formats (Excel, PDF), do NOT set `mime_type`; it causes errors for native files\n- Download responses provide a temporary URL at `data.downloaded_file_content.s3url`, not inline bytes\n- Use `GOOGLEDRIVE_RESUMABLE_UPLOAD` for files >5MB or when basic uploads fail\n\n### 2. Search and List Files\n\n**When to use**: User wants to find specific files or browse Drive contents\n\n**Tool sequence**:\n1. `GOOGLEDRIVE_FIND_FILE` - Search by name, content, type, date, or folder [Required]\n2. `GOOGLEDRIVE_LIST_FILES` - Browse files with folder scoping [Alternative]\n3. `GOOGLEDRIVE_LIST_SHARED_DRIVES` - Enumerate shared drives [Optional]\n4. `GOOGLEDRIVE_GET_FILE_METADATA` - Get detailed file info [Optional]\n5. `GOOGLEDRIVE_GET_ABOUT` - Check storage quota and supported formats [Optional]\n\n**Key parameters**:\n- `q`: Drive query string (e.g., \"name contains 'report'\", \"mimeType = 'application/pdf'\")\n- `corpora`: Search scope ('user', 'domain', 'drive', 'allDrives')\n- `fields`: Response fields to include (e.g., 'files(id,name,mimeType)')\n- `orderBy`: Sort key ('modifiedTime desc', 'name', 'quotaBytesUsed desc')\n- `pageSize`: Results per page (max 1000)\n- `pageToken`: Pagination cursor from `nextPageToken`\n- `folder_id`: Scope search to a specific folder\n\n**Pitfalls**:\n- 403 PERMISSION_DENIED if OAuth scopes insufficient for shared drives\n- Pagination required; files are in `response.data.files`; follow `nextPageToken` until exhausted\n- `corpora=\"domain\"` may trigger 400; try `\"allDrives\"` with `includeItemsFromAllDrives=true`\n- Query complexity limits: >5-10 OR clauses may error \"The query is too complex\"\n- Wildcards (*) NOT supported in `name`; use `contains` for partial matching\n- 'My Drive' is NOT searchable by name; use `folder_id='root'` for root folder\n- User email searches: use `'user@example.com' in owners` (NOT `owner:user@example.com`)\n\n### 3. Share Files and Manage Permissions\n\n**When to use**: User wants to share files or manage access permissions\n\n**Tool sequence**:\n1. `GOOGLEDRIVE_FIND_FILE` - Locate the file to share [Prerequisite]\n2. `GOOGLEDRIVE_ADD_FILE_SHARING_PREFERENCE` - Set sharing permission [Required]\n3. `GOOGLEDRIVE_LIST_PERMISSIONS` - View current permissions [Optional]\n4. `GOOGLEDRIVE_GET_PERMISSION` - Inspect a specific permission [Optional]\n5. `GOOGLEDRIVE_UPDATE_PERMISSION` - Modify existing permission [Optional]\n6. `GOOGLEDRIVE_DELETE_PERMISSION` - Revoke access [Optional]\n\n**Key parameters**:\n- `file_id`: ID of file to share\n- `type`: 'user', 'group', 'domain', or 'anyone'\n- `role`: 'owner', 'organizer', 'fileOrganizer', 'writer', 'commenter', 'reader'\n- `email_address`: Required for type='user' or 'group'\n- `domain`: Required for type='domain'\n- `transfer_ownership`: Required when role='owner'\n\n**Pitfalls**:\n- Invalid type/email combinations trigger 4xx errors\n- Using `type='anyone'` or powerful roles is risky; get explicit user confirmation\n- Org policies may block certain sharing types, causing 403\n- Permission changes may take time to propagate\n- Use `GMAIL_SEARCH_PEOPLE` to ",
  "tags": [
    "html",
    "api",
    "gmail",
    "pdf",
    "cli",
    "mcp",
    "automation",
    "ai"
  ],
  "useCases": [],
  "scrapedAt": "2026-02-06T07:03:10.402Z"
}