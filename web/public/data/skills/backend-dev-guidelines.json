{
  "id": "antigravity-backend-dev-guidelines",
  "name": "backend-dev-guidelines",
  "slug": "backend-dev-guidelines",
  "description": "Comprehensive backend development guide for Node.js/Express/TypeScript microservices. Use when creating routes, controllers, services, repositories, middleware, or working with Express APIs, Prisma database access, Sentry error tracking, Zod validation, unifiedConfig, dependency injection, or async ",
  "category": "Development & Code Tools",
  "source": "antigravity",
  "repoUrl": "https://github.com/sickn33/antigravity-awesome-skills",
  "skillUrl": "https://github.com/sickn33/antigravity-awesome-skills/tree/main/skills/backend-dev-guidelines",
  "content": "\n# Backend Development Guidelines\n\n## Purpose\n\nEstablish consistency and best practices across backend microservices (blog-api, auth-service, notifications-service) using modern Node.js/Express/TypeScript patterns.\n\n## When to Use This Skill\n\nAutomatically activates when working on:\n- Creating or modifying routes, endpoints, APIs\n- Building controllers, services, repositories\n- Implementing middleware (auth, validation, error handling)\n- Database operations with Prisma\n- Error tracking with Sentry\n- Input validation with Zod\n- Configuration management\n- Backend testing and refactoring\n\n---\n\n## Quick Start\n\n### New Backend Feature Checklist\n\n- [ ] **Route**: Clean definition, delegate to controller\n- [ ] **Controller**: Extend BaseController\n- [ ] **Service**: Business logic with DI\n- [ ] **Repository**: Database access (if complex)\n- [ ] **Validation**: Zod schema\n- [ ] **Sentry**: Error tracking\n- [ ] **Tests**: Unit + integration tests\n- [ ] **Config**: Use unifiedConfig\n\n### New Microservice Checklist\n\n- [ ] Directory structure (see [architecture-overview.md](architecture-overview.md))\n- [ ] instrument.ts for Sentry\n- [ ] unifiedConfig setup\n- [ ] BaseController class\n- [ ] Middleware stack\n- [ ] Error boundary\n- [ ] Testing framework\n\n---\n\n## Architecture Overview\n\n### Layered Architecture\n\n```\nHTTP Request\n    ↓\nRoutes (routing only)\n    ↓\nControllers (request handling)\n    ↓\nServices (business logic)\n    ↓\nRepositories (data access)\n    ↓\nDatabase (Prisma)\n```\n\n**Key Principle:** Each layer has ONE responsibility.\n\nSee [architecture-overview.md](architecture-overview.md) for complete details.\n\n---\n\n## Directory Structure\n\n```\nservice/src/\n├── config/              # UnifiedConfig\n├── controllers/         # Request handlers\n├── services/            # Business logic\n├── repositories/        # Data access\n├── routes/              # Route definitions\n├── middleware/          # Express middleware\n├── types/               # TypeScript types\n├── validators/          # Zod schemas\n├── utils/               # Utilities\n├── tests/               # Tests\n├── instrument.ts        # Sentry (FIRST IMPORT)\n├── app.ts               # Express setup\n└── server.ts            # HTTP server\n```\n\n**Naming Conventions:**\n- Controllers: `PascalCase` - `UserController.ts`\n- Services: `camelCase` - `userService.ts`\n- Routes: `camelCase + Routes` - `userRoutes.ts`\n- Repositories: `PascalCase + Repository` - `UserRepository.ts`\n\n---\n\n## Core Principles (7 Key Rules)\n\n### 1. Routes Only Route, Controllers Control\n\n```typescript\n// ❌ NEVER: Business logic in routes\nrouter.post('/submit', async (req, res) => {\n    // 200 lines of logic\n});\n\n// ✅ ALWAYS: Delegate to controller\nrouter.post('/submit', (req, res) => controller.submit(req, res));\n```\n\n### 2. All Controllers Extend BaseController\n\n```typescript\nexport class UserController extends BaseController {\n    async getUser(req: Request, res: Response): Promise<void> {\n        try {\n            const user = await this.userService.findById(req.params.id);\n            this.handleSuccess(res, user);\n        } catch (error) {\n            this.handleError(error, res, 'getUser');\n        }\n    }\n}\n```\n\n### 3. All Errors to Sentry\n\n```typescript\ntry {\n    await operation();\n} catch (error) {\n    Sentry.captureException(error);\n    throw error;\n}\n```\n\n### 4. Use unifiedConfig, NEVER process.env\n\n```typescript\n// ❌ NEVER\nconst timeout = process.env.TIMEOUT_MS;\n\n// ✅ ALWAYS\nimport { config } from './config/unifiedConfig';\nconst timeout = config.timeouts.default;\n```\n\n### 5. Validate All Input with Zod\n\n```typescript\nconst schema = z.object({ email: z.string().email() });\nconst validated = schema.parse(req.body);\n```\n\n### 6. Use Repository Pattern for Data Access\n\n```typescript\n// Service → Repository → Database\nconst users = await userRepository.findActive();\n```\n\n### 7. Comprehensive Testing Required\n\n```typescript\ndescribe('UserService', () => {\n    it('should create user', async () => {\n        expect(user).toBeDefined();\n    });\n});\n```\n\n---\n\n## Common Imports\n\n```typescript\n// Express\nimport express, { Request, Response, NextFunction, Router } from 'express';\n\n// Validation\nimport { z } from 'zod';\n\n// Database\nimport { PrismaClient } from '@prisma/client';\nimport type { Prisma } from '@prisma/client';\n\n// Sentry\nimport * as Sentry from '@sentry/node';\n\n// Config\nimport { config } from './config/unifiedConfig';\n\n// Middleware\nimport { SSOMiddlewareClient } from './middleware/SSOMiddleware';\nimport { asyncErrorWrapper } from './middleware/errorBoundary';\n```\n\n---\n\n## Quick Reference\n\n### HTTP Status Codes\n\n| Code | Use Case |\n|------|----------|\n| 200 | Success |\n| 201 | Created |\n| 400 | Bad Request |\n| 401 | Unauthorized |\n| 403 | Forbidden |\n| 404 | Not Found |\n| 500 | Server Error |\n\n### Service Templates\n\n**Blog API** (✅ Mature) - Use as template for REST APIs\n**Auth Service** (✅ Mature) - Use as template for authentication patterns\n\n---\n\n## Anti-Patterns to Avoid\n\n❌ Business logic in",
  "tags": [
    "typescript",
    "node",
    "api",
    "ai",
    "template",
    "prisma",
    "rag",
    "cro"
  ],
  "useCases": [
    "Creating or modifying routes, endpoints, APIs",
    "Building controllers, services, repositories",
    "Implementing middleware (auth, validation, error handling)",
    "Database operations with Prisma",
    "Error tracking with Sentry"
  ],
  "scrapedAt": "2026-01-26T13:16:57.173Z"
}