{
  "id": "antigravity-daily-news-report",
  "name": "daily-news-report",
  "slug": "daily-news-report",
  "description": "基于预设 URL 列表抓取内容，筛选高质量技术信息并生成每日 Markdown 报告。",
  "category": "AI & Agents",
  "source": "antigravity",
  "repoUrl": "https://github.com/sickn33/antigravity-awesome-skills",
  "skillUrl": "https://github.com/sickn33/antigravity-awesome-skills/tree/main/skills/daily-news-report",
  "content": "\n# Daily News Report v3.0\n\n> **架构升级**：主 Agent 调度 + SubAgent 执行 + 浏览器抓取 + 智能缓存\n\n## 核心架构\n\n```\n┌─────────────────────────────────────────────────────────────────────┐\n│                        主 Agent (Orchestrator)                       │\n│  职责：调度、监控、评估、决策、汇总                                    │\n├─────────────────────────────────────────────────────────────────────┤\n│                                                                      │\n│   ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐     │\n│   │ 1. 初始化 │ → │ 2. 调度   │ → │ 3. 监控   │ → │ 4. 评估   │     │\n│   │ 读取配置  │    │ 分发任务  │    │ 收集结果  │    │ 筛选排序  │     │\n│   └──────────┘    └──────────┘    └──────────┘    └──────────┘     │\n│         │               │               │               │           │\n│         ▼               ▼               ▼               ▼           │\n│   ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐     │\n│   │ 5. 决策   │ ← │ 够20条？  │    │ 6. 生成   │ → │ 7. 更新   │     │\n│   │ 继续/停止 │    │ Y/N      │    │ 日报文件  │    │ 缓存统计  │     │\n│   └──────────┘    └──────────┘    └──────────┘    └──────────┘     │\n│                                                                      │\n└──────────────────────────────────────────────────────────────────────┘\n         ↓ 调度                              ↑ 返回结果\n┌─────────────────────────────────────────────────────────────────────┐\n│                        SubAgent 执行层                               │\n├─────────────────────────────────────────────────────────────────────┤\n│                                                                      │\n│   ┌─────────────┐   ┌─────────────┐   ┌─────────────┐              │\n│   │ Worker A    │   │ Worker B    │   │ Browser     │              │\n│   │ (WebFetch)  │   │ (WebFetch)  │   │ (Headless)  │              │\n│   │ Tier1 Batch │   │ Tier2 Batch │   │ JS渲染页面   │              │\n│   └─────────────┘   └─────────────┘   └─────────────┘              │\n│         ↓                 ↓                 ↓                        │\n│   ┌─────────────────────────────────────────────────────────────┐   │\n│   │                    结构化结果返回                             │   │\n│   │  { status, data: [...], errors: [...], metadata: {...} }    │   │\n│   └─────────────────────────────────────────────────────────────┘   │\n│                                                                      │\n└─────────────────────────────────────────────────────────────────────┘\n```\n\n## 配置文件\n\n本 Skill 使用以下配置文件：\n\n| 文件 | 用途 |\n|------|------|\n| `sources.json` | 信息源配置、优先级、抓取方法 |\n| `cache.json` | 缓存数据、历史统计、去重指纹 |\n\n## 执行流程详解\n\n### Phase 1: 初始化\n\n```yaml\n步骤:\n  1. 确定日期（用户参数或当前日期）\n  2. 读取 sources.json 获取源配置\n  3. 读取 cache.json 获取历史数据\n  4. 创建输出目录 NewsReport/\n  5. 检查今日是否已有部分报告（追加模式）\n```\n\n### Phase 2: 调度 SubAgent\n\n**策略**：并行调度，分批执行，早停机制\n\n```yaml\n第1波 (并行):\n  - Worker A: Tier1 Batch A (HN, HuggingFace Papers)\n  - Worker B: Tier1 Batch B (OneUsefulThing, Paul Graham)\n\n等待结果 → 评估数量\n\n如果 < 15 条高质量:\n  第2波 (并行):\n    - Worker C: Tier2 Batch A (James Clear, FS Blog)\n    - Worker D: Tier2 Batch B (HackerNoon, Scott Young)\n\n如果仍 < 20 条:\n  第3波 (浏览器):\n    - Browser Worker: ProductHunt, Latent Space (需要JS渲染)\n```\n\n### Phase 3: SubAgent 任务格式\n\n每个 SubAgent 接收的任务格式：\n\n```yaml\ntask: fetch_and_extract\nsources:\n  - id: hn\n    url: https://news.ycombinator.com\n    extract: top_10\n  - id: hf_papers\n    url: https://huggingface.co/papers\n    extract: top_voted\n\noutput_schema:\n  items:\n    - source_id: string      # 来源标识\n      title: string          # 标题\n      summary: string        # 2-4句摘要\n      key_points: string[]   # 最多3个要点\n      url: string            # 原文链接\n      keywords: string[]     # 关键词\n      quality_score: 1-5     # 质量评分\n\nconstraints:\n  filter: \"前沿技术/高深技术/提效技术/实用资讯\"\n  exclude: \"泛科普/营销软文/过度学术化/招聘帖\"\n  max_items_per_source: 10\n  skip_on_error: true\n\nreturn_format: JSON\n```\n\n### Phase 4: 主 Agent 监控与反馈\n\n主 Agent 职责：\n\n```yaml\n监控:\n  - 检查 SubAgent 返回状态 (success/partial/failed)\n  - 统计收集到的条目数量\n  - 记录每个源的成功率\n\n反馈循环:\n  - 如果某 SubAgent 失败，决定是否重试或跳过\n  - 如果某源持续失败，标记为禁用\n  - 动态调整后续批次的源选择\n\n决策:\n  - 条目数 >= 25 且高质量 >= 20 → 停止抓取\n  - 条目数 < 15 → 继续下一批\n  - 所有批次完成但 < 20 → 用现有内容生成（宁缺毋滥）\n```\n\n### Phase 5: 评估与筛选\n\n```yaml\n去重:\n  - 基于 URL 完全匹配\n  - 基于标题相似度 (>80% 视为重复)\n  - 检查 cache.json 避免与历史重复\n\n评分校准:\n  - 统一各 SubAgent 的评分标准\n  - 根据来源可信度调整权重\n  - 手动标注的高质量源加分\n\n排序:\n  - 按 quality_score 降序\n  - 同分按来源优先级排序\n  - 截取 Top 20\n```\n\n### Phase 6: 浏览器抓取 (MCP Chrome DevTools)\n\n对于需要 JS 渲染的页面，使用无头浏览器：\n\n```yaml\n流程:\n  1. 调用 mcp__chrome-devtools__new_page 打开页面\n  2. 调用 mcp__chrome-devtools__wait_for 等待内容加载\n  3. 调用 mcp__chrome-devtools__take_snapshot 获取页面结构\n  4. 解析 snapshot 提取所需内容\n  5. 调用 mcp__chrome-devtools__close_page 关闭页面\n\n适用场景:\n  - ProductHunt (403 on WebFetch)\n  - Latent Space (Substack JS 渲染)\n  - 其他 SPA 应用\n```\n\n### Phase 7: 生成日报\n\n```yaml\n输出:\n  - 目录: NewsReport/\n  - 文件名: YYYY-MM-DD-news-report.md\n  - 格式: 标准 Markdown\n\n内容结构:\n  - 标题 + 日期\n  - 统计摘要（源数量、收录数量）\n  - 20条高质量内容（按模板）\n  - 生成信息（版本、时间戳）\n```\n\n### Phase 8: 更新缓存\n\n```yaml\n更新 cache.json:\n  - last_run: 记录本次运行信息\n  - source_s",
  "tags": [
    "markdown",
    "mcp",
    "ai",
    "agent"
  ],
  "useCases": [],
  "scrapedAt": "2026-01-27T06:45:53.708Z"
}