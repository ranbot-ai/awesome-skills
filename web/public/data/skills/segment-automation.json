{
  "id": "composio-segment-automation",
  "name": "segment-automation",
  "slug": "segment-automation",
  "description": "Automate Segment tasks via Rube MCP (Composio): track events, identify users, manage groups, page views, aliases, batch operations. Always search tools first for current schemas.",
  "category": "Development & Code Tools",
  "source": "composio",
  "repoUrl": "https://github.com/ComposioHQ/awesome-claude-skills",
  "skillUrl": "https://github.com/ComposioHQ/awesome-claude-skills/tree/master/segment-automation",
  "content": "\n# Segment Automation via Rube MCP\n\nAutomate Segment customer data platform operations through Composio's Segment toolkit via Rube MCP.\n\n## Prerequisites\n\n- Rube MCP must be connected (RUBE_SEARCH_TOOLS available)\n- Active Segment connection via `RUBE_MANAGE_CONNECTIONS` with toolkit `segment`\n- Always call `RUBE_SEARCH_TOOLS` first to get current tool schemas\n\n## Setup\n\n**Get Rube MCP**: Add `https://rube.app/mcp` as an MCP server in your client configuration. No API keys needed â€” just add the endpoint and it works.\n\n\n1. Verify Rube MCP is available by confirming `RUBE_SEARCH_TOOLS` responds\n2. Call `RUBE_MANAGE_CONNECTIONS` with toolkit `segment`\n3. If connection is not ACTIVE, follow the returned auth link to complete Segment authentication\n4. Confirm connection status shows ACTIVE before running any workflows\n\n## Core Workflows\n\n### 1. Track Events\n\n**When to use**: User wants to send event data to Segment for downstream destinations\n\n**Tool sequence**:\n1. `SEGMENT_TRACK` - Send a single track event [Required]\n\n**Key parameters**:\n- `userId`: User identifier (required if no `anonymousId`)\n- `anonymousId`: Anonymous identifier (required if no `userId`)\n- `event`: Event name (e.g., 'Order Completed', 'Button Clicked')\n- `properties`: Object with event-specific properties\n- `timestamp`: ISO 8601 timestamp (optional; defaults to server time)\n- `context`: Object with contextual metadata (IP, user agent, etc.)\n\n**Pitfalls**:\n- At least one of `userId` or `anonymousId` is required\n- `event` name is required and should follow consistent naming conventions\n- Properties are freeform objects; ensure consistent schema across events\n- Timestamp must be ISO 8601 format (e.g., '2024-01-15T10:30:00Z')\n- Events are processed asynchronously; successful API response means accepted, not delivered\n\n### 2. Identify Users\n\n**When to use**: User wants to associate traits with a user profile in Segment\n\n**Tool sequence**:\n1. `SEGMENT_IDENTIFY` - Set user traits and identity [Required]\n\n**Key parameters**:\n- `userId`: User identifier (required if no `anonymousId`)\n- `anonymousId`: Anonymous identifier\n- `traits`: Object with user properties (email, name, plan, etc.)\n- `timestamp`: ISO 8601 timestamp\n- `context`: Contextual metadata\n\n**Pitfalls**:\n- At least one of `userId` or `anonymousId` is required\n- Traits are merged with existing traits, not replaced\n- To remove a trait, set it to `null`\n- Identify calls should be made before track calls for new users\n- Avoid sending PII in traits unless destinations are configured for it\n\n### 3. Batch Operations\n\n**When to use**: User wants to send multiple events, identifies, or other calls in a single request\n\n**Tool sequence**:\n1. `SEGMENT_BATCH` - Send multiple Segment calls in one request [Required]\n\n**Key parameters**:\n- `batch`: Array of message objects, each with:\n  - `type`: Message type ('track', 'identify', 'group', 'page', 'alias')\n  - `userId` / `anonymousId`: User identifier\n  - Additional fields based on type (event, properties, traits, etc.)\n\n**Pitfalls**:\n- Each message in the batch must have a valid `type` field\n- Maximum batch size limit applies; check schema for current limit\n- All messages in a batch are processed independently; one failure does not affect others\n- Each message must independently satisfy its type's requirements (e.g., track needs event name)\n- Batch is the most efficient way to send multiple calls; prefer over individual calls\n\n### 4. Group Users\n\n**When to use**: User wants to associate a user with a company, team, or organization\n\n**Tool sequence**:\n1. `SEGMENT_GROUP` - Associate user with a group [Required]\n\n**Key parameters**:\n- `userId`: User identifier (required if no `anonymousId`)\n- `anonymousId`: Anonymous identifier\n- `groupId`: Group/organization identifier (required)\n- `traits`: Object with group properties (name, industry, size, plan)\n- `timestamp`: ISO 8601 timestamp\n\n**Pitfalls**:\n- `groupId` is required; it identifies the company or organization\n- Group traits are merged with existing traits for that group\n- A user can belong to multiple groups\n- Group traits update the group profile, not the user profile\n\n### 5. Track Page Views\n\n**When to use**: User wants to record page view events in Segment\n\n**Tool sequence**:\n1. `SEGMENT_PAGE` - Send a page view event [Required]\n\n**Key parameters**:\n- `userId`: User identifier (required if no `anonymousId`)\n- `anonymousId`: Anonymous identifier\n- `name`: Page name (e.g., 'Home', 'Pricing', 'Dashboard')\n- `category`: Page category (e.g., 'Docs', 'Marketing')\n- `properties`: Object with page-specific properties (url, title, referrer)\n\n**Pitfalls**:\n- At least one of `userId` or `anonymousId` is required\n- `name` and `category` are optional but recommended for proper analytics\n- Standard properties include `url`, `title`, `referrer`, `path`, `search`\n- Page calls are often automated; manual use is for server-side page tracking\n\n### 6. Alias Users and Manage Sources\n\n**When to use**: User wants to mer",
  "tags": [
    "api",
    "cli",
    "mcp",
    "automation",
    "ai"
  ],
  "useCases": [],
  "scrapedAt": "2026-02-06T07:03:26.011Z"
}