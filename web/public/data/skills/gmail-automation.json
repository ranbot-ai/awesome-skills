{
  "id": "composio-gmail-automation",
  "name": "gmail-automation",
  "slug": "gmail-automation",
  "description": "Automate Gmail tasks via Rube MCP (Composio): send/reply, search, labels, drafts, attachments. Always search tools first for current schemas.",
  "category": "Development & Code Tools",
  "source": "composio",
  "repoUrl": "https://github.com/ComposioHQ/awesome-claude-skills",
  "skillUrl": "https://github.com/ComposioHQ/awesome-claude-skills/tree/master/gmail-automation",
  "content": "\n# Gmail Automation via Rube MCP\n\nAutomate Gmail operations through Composio's Gmail toolkit via Rube MCP.\n\n## Prerequisites\n\n- Rube MCP must be connected (RUBE_SEARCH_TOOLS available)\n- Active Gmail connection via `RUBE_MANAGE_CONNECTIONS` with toolkit `gmail`\n- Always call `RUBE_SEARCH_TOOLS` first to get current tool schemas\n\n## Setup\n\n**Get Rube MCP**: Add `https://rube.app/mcp` as an MCP server in your client configuration. No API keys needed — just add the endpoint and it works.\n\n\n1. Verify Rube MCP is available by confirming `RUBE_SEARCH_TOOLS` responds\n2. Call `RUBE_MANAGE_CONNECTIONS` with toolkit `gmail`\n3. If connection is not ACTIVE, follow the returned auth link to complete Google OAuth\n4. Confirm connection status shows ACTIVE before running any workflows\n\n## Core Workflows\n\n### 1. Send an Email\n\n**When to use**: User wants to compose and send a new email\n\n**Tool sequence**:\n1. `GMAIL_SEARCH_PEOPLE` - Resolve contact name to email address [Optional]\n2. `GMAIL_SEND_EMAIL` - Send the email [Required]\n\n**Key parameters**:\n- `recipient_email`: Email address or 'me' for self\n- `subject`: Email subject line\n- `body`: Email content (plain text or HTML)\n- `is_html`: Must be `true` if body contains HTML markup\n- `cc`/`bcc`: Arrays of email addresses\n- `attachment`: Object with `{s3key, mimetype, name}` from prior download\n\n**Pitfalls**:\n- At least one of `recipient_email`, `cc`, or `bcc` required\n- At least one of `subject` or `body` required\n- Attachment `mimetype` MUST contain '/' (e.g., 'application/pdf', not 'pdf')\n- Total message size limit ~25MB after base64 encoding\n- Use `from_email` only for verified aliases in Gmail 'Send mail as' settings\n\n### 2. Reply to a Thread\n\n**When to use**: User wants to reply to an existing email conversation\n\n**Tool sequence**:\n1. `GMAIL_FETCH_EMAILS` - Find the email/thread to reply to [Prerequisite]\n2. `GMAIL_REPLY_TO_THREAD` - Send reply within the thread [Required]\n\n**Key parameters**:\n- `thread_id`: Hex string from FETCH_EMAILS (e.g., '169eefc8138e68ca')\n- `message_body`: Reply content\n- `recipient_email`: Reply recipient\n- `is_html`: Set `true` for HTML content\n\n**Pitfalls**:\n- `thread_id` must be hex string; prefixes like 'msg-f:' are auto-stripped\n- Legacy Gmail web UI IDs (e.g., 'FMfcgz...') are NOT supported\n- Subject is inherited from original thread; setting it creates a new thread instead\n- Do NOT include subject parameter to stay within thread\n\n### 3. Search and Filter Emails\n\n**When to use**: User wants to find specific emails by sender, subject, date, label, etc.\n\n**Tool sequence**:\n1. `GMAIL_FETCH_EMAILS` - Search with Gmail query syntax [Required]\n2. `GMAIL_FETCH_MESSAGE_BY_MESSAGE_ID` - Get full message details for selected results [Optional]\n\n**Key parameters**:\n- `query`: Gmail search syntax (from:, to:, subject:, is:unread, has:attachment, after:YYYY/MM/DD, before:YYYY/MM/DD)\n- `max_results`: 1-500 messages per page\n- `label_ids`: System IDs like 'INBOX', 'UNREAD'\n- `include_payload`: Set `true` to get full message content\n- `ids_only`: Set `true` for just message IDs\n- `page_token`: For pagination (from `nextPageToken`)\n\n**Pitfalls**:\n- Returns max ~500 per page; follow `nextPageToken` via `page_token` until absent\n- `resultSizeEstimate` is approximate, not exact count\n- Use 'is:' for states (is:unread, is:snoozed, is:starred)\n- Use 'label:' ONLY for user-created labels\n- Common mistake: 'label:snoozed' is WRONG — use 'is:snoozed'\n- `include_payload=true` on broad searches creates huge responses; default to metadata\n- Custom labels require label ID (e.g., 'Label_123'), NOT label name\n\n### 4. Manage Labels\n\n**When to use**: User wants to create, modify, or organize labels\n\n**Tool sequence**:\n1. `GMAIL_LIST_LABELS` - List all labels to find IDs and detect conflicts [Required]\n2. `GMAIL_CREATE_LABEL` - Create a new label [Optional]\n3. `GMAIL_PATCH_LABEL` - Rename or change label colors/visibility [Optional]\n4. `GMAIL_DELETE_LABEL` - Delete a user-created label (irreversible) [Optional]\n\n**Key parameters**:\n- `label_name`: Max 225 chars, no commas, '/' for nesting (e.g., 'Work/Projects')\n- `background_color`/`text_color`: Hex values from Gmail's predefined palette\n- `id`: Label ID for PATCH/DELETE operations\n\n**Pitfalls**:\n- 400/409 error if name is blank, duplicate, or reserved (INBOX, SPAM, CATEGORY_*)\n- Color specs must use Gmail's predefined palette of 102 hex values\n- DELETE is permanent and removes label from all messages\n- Cannot delete system labels (INBOX, SENT, DRAFT, etc.)\n\n### 5. Apply/Remove Labels on Messages\n\n**When to use**: User wants to label, archive, or mark emails as read/unread\n\n**Tool sequence**:\n1. `GMAIL_LIST_LABELS` - Get label IDs for custom labels [Prerequisite]\n2. `GMAIL_FETCH_EMAILS` - Find target messages [Prerequisite]\n3. `GMAIL_BATCH_MODIFY_MESSAGES` - Bulk add/remove labels (up to 1000 messages) [Required]\n4. `GMAIL_ADD_LABEL_TO_EMAIL` - Single-message label changes [Fallback]\n\n**Key parameters**:\n- `messageIds`:",
  "tags": [
    "html",
    "api",
    "gmail",
    "pdf",
    "cli",
    "mcp",
    "automation",
    "ai"
  ],
  "useCases": [],
  "scrapedAt": "2026-02-06T07:03:09.108Z"
}