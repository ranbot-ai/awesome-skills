{
  "id": "composio-stripe-automation",
  "name": "stripe-automation",
  "slug": "stripe-automation",
  "description": "Automate Stripe tasks via Rube MCP (Composio): customers, charges, subscriptions, invoices, products, refunds. Always search tools first for current schemas.",
  "category": "Development & Code Tools",
  "source": "composio",
  "repoUrl": "https://github.com/ComposioHQ/awesome-claude-skills",
  "skillUrl": "https://github.com/ComposioHQ/awesome-claude-skills/tree/master/stripe-automation",
  "content": "\n# Stripe Automation via Rube MCP\n\nAutomate Stripe payment operations through Composio's Stripe toolkit via Rube MCP.\n\n**Toolkit docs**: [composio.dev/toolkits/stripe](https://composio.dev/toolkits/stripe)\n\n## Prerequisites\n\n- Rube MCP must be connected (RUBE_SEARCH_TOOLS available)\n- Active Stripe connection via `RUBE_MANAGE_CONNECTIONS` with toolkit `stripe`\n- Always call `RUBE_SEARCH_TOOLS` first to get current tool schemas\n\n## Setup\n\n**Get Rube MCP**: Add `https://rube.app/mcp` as an MCP server in your client configuration. No API keys needed â€” just add the endpoint and it works.\n\n\n1. Verify Rube MCP is available by confirming `RUBE_SEARCH_TOOLS` responds\n2. Call `RUBE_MANAGE_CONNECTIONS` with toolkit `stripe`\n3. If connection is not ACTIVE, follow the returned auth link to complete Stripe connection\n4. Confirm connection status shows ACTIVE before running any workflows\n\n## Core Workflows\n\n### 1. Manage Customers\n\n**When to use**: User wants to create, update, search, or list Stripe customers\n\n**Tool sequence**:\n1. `STRIPE_SEARCH_CUSTOMERS` - Search customers by email/name [Optional]\n2. `STRIPE_LIST_CUSTOMERS` - List all customers [Optional]\n3. `STRIPE_CREATE_CUSTOMER` - Create a new customer [Optional]\n4. `STRIPE_POST_CUSTOMERS_CUSTOMER` - Update a customer [Optional]\n\n**Key parameters**:\n- `email`: Customer email\n- `name`: Customer name\n- `description`: Customer description\n- `metadata`: Key-value metadata pairs\n- `customer`: Customer ID for updates (e.g., 'cus_xxx')\n\n**Pitfalls**:\n- Stripe allows duplicate customers with the same email; search first to avoid duplicates\n- Customer IDs start with 'cus_'\n\n### 2. Manage Charges and Payments\n\n**When to use**: User wants to create charges, payment intents, or view charge history\n\n**Tool sequence**:\n1. `STRIPE_LIST_CHARGES` - List charges with filters [Optional]\n2. `STRIPE_CREATE_PAYMENT_INTENT` - Create a payment intent [Optional]\n3. `STRIPE_CONFIRM_PAYMENT_INTENT` - Confirm a payment intent [Optional]\n4. `STRIPE_POST_CHARGES` - Create a direct charge [Optional]\n5. `STRIPE_CAPTURE_CHARGE` - Capture an authorized charge [Optional]\n\n**Key parameters**:\n- `amount`: Amount in smallest currency unit (e.g., cents for USD)\n- `currency`: Three-letter ISO currency code (e.g., 'usd')\n- `customer`: Customer ID\n- `payment_method`: Payment method ID\n- `description`: Charge description\n\n**Pitfalls**:\n- Amounts are in smallest currency unit (100 = $1.00 for USD)\n- Currency codes must be lowercase (e.g., 'usd' not 'USD')\n- Payment intents are the recommended flow over direct charges\n\n### 3. Manage Subscriptions\n\n**When to use**: User wants to create, list, update, or cancel subscriptions\n\n**Tool sequence**:\n1. `STRIPE_LIST_SUBSCRIPTIONS` - List subscriptions [Optional]\n2. `STRIPE_POST_CUSTOMERS_CUSTOMER_SUBSCRIPTIONS` - Create subscription [Optional]\n3. `STRIPE_RETRIEVE_SUBSCRIPTION` - Get subscription details [Optional]\n4. `STRIPE_UPDATE_SUBSCRIPTION` - Modify subscription [Optional]\n\n**Key parameters**:\n- `customer`: Customer ID\n- `items`: Array of price items (price_id and quantity)\n- `subscription`: Subscription ID for retrieval/update (e.g., 'sub_xxx')\n\n**Pitfalls**:\n- Subscriptions require a valid customer with a payment method\n- Price IDs (not product IDs) are used for subscription items\n- Cancellation can be immediate or at period end\n\n### 4. Manage Invoices\n\n**When to use**: User wants to create, list, or search invoices\n\n**Tool sequence**:\n1. `STRIPE_LIST_INVOICES` - List invoices [Optional]\n2. `STRIPE_SEARCH_INVOICES` - Search invoices [Optional]\n3. `STRIPE_CREATE_INVOICE` - Create an invoice [Optional]\n\n**Key parameters**:\n- `customer`: Customer ID for invoice\n- `collection_method`: 'charge_automatically' or 'send_invoice'\n- `days_until_due`: Days until invoice is due\n\n**Pitfalls**:\n- Invoices auto-finalize by default; use `auto_advance: false` for draft invoices\n\n### 5. Manage Products and Prices\n\n**When to use**: User wants to list or search products and their pricing\n\n**Tool sequence**:\n1. `STRIPE_LIST_PRODUCTS` - List products [Optional]\n2. `STRIPE_SEARCH_PRODUCTS` - Search products [Optional]\n3. `STRIPE_LIST_PRICES` - List prices [Optional]\n4. `STRIPE_GET_PRICES_SEARCH` - Search prices [Optional]\n\n**Key parameters**:\n- `active`: Filter by active/inactive status\n- `query`: Search query for search endpoints\n\n**Pitfalls**:\n- Products and prices are separate objects; a product can have multiple prices\n- Price IDs (e.g., 'price_xxx') are used for subscriptions and checkout\n\n### 6. Handle Refunds\n\n**When to use**: User wants to issue refunds on charges\n\n**Tool sequence**:\n1. `STRIPE_LIST_REFUNDS` - List refunds [Optional]\n2. `STRIPE_POST_CHARGES_CHARGE_REFUNDS` - Create a refund [Optional]\n3. `STRIPE_CREATE_REFUND` - Create refund via payment intent [Optional]\n\n**Key parameters**:\n- `charge`: Charge ID for refund\n- `amount`: Partial refund amount (omit for full refund)\n- `reason`: Refund reason ('duplicate', 'fraudulent', 'requested_by_customer')\n\n**Pitfalls**:",
  "tags": [
    "api",
    "cli",
    "mcp",
    "automation",
    "ai"
  ],
  "useCases": [],
  "scrapedAt": "2026-02-06T07:03:29.416Z"
}