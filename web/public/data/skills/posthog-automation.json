{
  "id": "composio-posthog-automation",
  "name": "posthog-automation",
  "slug": "posthog-automation",
  "description": "Automate PostHog tasks via Rube MCP (Composio): events, feature flags, projects, user profiles, annotations. Always search tools first for current schemas.",
  "category": "Development & Code Tools",
  "source": "composio",
  "repoUrl": "https://github.com/ComposioHQ/awesome-claude-skills",
  "skillUrl": "https://github.com/ComposioHQ/awesome-claude-skills/tree/master/posthog-automation",
  "content": "\n# PostHog Automation via Rube MCP\n\nAutomate PostHog product analytics and feature flag management through Composio's PostHog toolkit via Rube MCP.\n\n**Toolkit docs**: [composio.dev/toolkits/posthog](https://composio.dev/toolkits/posthog)\n\n## Prerequisites\n\n- Rube MCP must be connected (RUBE_SEARCH_TOOLS available)\n- Active PostHog connection via `RUBE_MANAGE_CONNECTIONS` with toolkit `posthog`\n- Always call `RUBE_SEARCH_TOOLS` first to get current tool schemas\n\n## Setup\n\n**Get Rube MCP**: Add `https://rube.app/mcp` as an MCP server in your client configuration. No API keys needed â€” just add the endpoint and it works.\n\n\n1. Verify Rube MCP is available by confirming `RUBE_SEARCH_TOOLS` responds\n2. Call `RUBE_MANAGE_CONNECTIONS` with toolkit `posthog`\n3. If connection is not ACTIVE, follow the returned auth link to complete PostHog authentication\n4. Confirm connection status shows ACTIVE before running any workflows\n\n## Core Workflows\n\n### 1. Capture Events\n\n**When to use**: User wants to send event data to PostHog for analytics tracking\n\n**Tool sequence**:\n1. `POSTHOG_CAPTURE_EVENT` - Send one or more events to PostHog [Required]\n\n**Key parameters**:\n- `event`: Event name (e.g., '$pageview', 'user_signed_up', 'purchase_completed')\n- `distinct_id`: Unique user identifier (required)\n- `properties`: Object with event-specific properties\n- `timestamp`: ISO 8601 timestamp (optional; defaults to server time)\n\n**Pitfalls**:\n- `distinct_id` is required for every event; identifies the user/device\n- PostHog system events use `$` prefix (e.g., '$pageview', '$identify')\n- Custom events should NOT use the `$` prefix\n- Properties are freeform; maintain consistent schemas across events\n- Events are processed asynchronously; ingestion delay is typically seconds\n\n### 2. List and Filter Events\n\n**When to use**: User wants to browse or search through captured events\n\n**Tool sequence**:\n1. `POSTHOG_LIST_AND_FILTER_PROJECT_EVENTS` - Query events with filters [Required]\n\n**Key parameters**:\n- `project_id`: PostHog project ID (required)\n- `event`: Filter by event name\n- `person_id`: Filter by person ID\n- `after`: Events after this ISO 8601 timestamp\n- `before`: Events before this ISO 8601 timestamp\n- `limit`: Maximum events to return\n- `offset`: Pagination offset\n\n**Pitfalls**:\n- `project_id` is required; resolve via LIST_PROJECTS first\n- Date filters use ISO 8601 format (e.g., '2024-01-15T00:00:00Z')\n- Large event volumes require pagination; use `offset` and `limit`\n- Results are returned in reverse chronological order by default\n- Event properties are nested; parse carefully\n\n### 3. Manage Feature Flags\n\n**When to use**: User wants to create, view, or manage feature flags\n\n**Tool sequence**:\n1. `POSTHOG_LIST_AND_MANAGE_PROJECT_FEATURE_FLAGS` - List existing feature flags [Required]\n2. `POSTHOG_RETRIEVE_FEATURE_FLAG_DETAILS` - Get detailed flag configuration [Optional]\n3. `POSTHOG_CREATE_FEATURE_FLAGS_FOR_PROJECT` - Create a new feature flag [Optional]\n\n**Key parameters**:\n- For listing: `project_id` (required)\n- For details: `project_id`, `id` (feature flag ID)\n- For creation:\n  - `project_id`: Target project\n  - `key`: Flag key (e.g., 'new-dashboard-beta')\n  - `name`: Human-readable name\n  - `filters`: Targeting rules and rollout percentage\n  - `active`: Whether the flag is enabled\n\n**Pitfalls**:\n- Feature flag `key` must be unique within a project\n- Flag keys should use kebab-case (e.g., 'my-feature-flag')\n- `filters` define targeting groups with properties and rollout percentages\n- Creating a flag with `active: true` immediately enables it for matching users\n- Flag changes take effect within seconds due to PostHog's polling mechanism\n\n### 4. Manage Projects\n\n**When to use**: User wants to list or inspect PostHog projects and organizations\n\n**Tool sequence**:\n1. `POSTHOG_LIST_PROJECTS_IN_ORGANIZATION_WITH_PAGINATION` - List all projects [Required]\n\n**Key parameters**:\n- `organization_id`: Organization identifier (may be optional depending on auth)\n- `limit`: Number of results per page\n- `offset`: Pagination offset\n\n**Pitfalls**:\n- Project IDs are numeric; used as parameters in most other endpoints\n- Organization ID may be required; check your PostHog setup\n- Pagination is offset-based; iterate until results are empty\n- Project settings include API keys and configuration details\n\n### 5. User Profile and Authentication\n\n**When to use**: User wants to check current user details or verify API access\n\n**Tool sequence**:\n1. `POSTHOG_WHOAMI` - Get current API user information [Optional]\n2. `POSTHOG_RETRIEVE_CURRENT_USER_PROFILE` - Get detailed user profile [Optional]\n\n**Key parameters**:\n- No required parameters for either call\n- Returns current authenticated user's details, permissions, and organization info\n\n**Pitfalls**:\n- WHOAMI is a lightweight check; use for verifying API connectivity\n- User profile includes organization membership and permissions\n- These endpoints confirm the API key's access level and scope\n\n## Common Patterns",
  "tags": [
    "api",
    "json",
    "cli",
    "mcp",
    "automation",
    "ai"
  ],
  "useCases": [],
  "scrapedAt": "2026-02-06T07:03:23.352Z"
}