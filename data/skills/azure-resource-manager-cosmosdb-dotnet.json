{
  "id": "antigravity-azure-resource-manager-cosmosdb-dotnet",
  "name": "azure-resource-manager-cosmosdb-dotnet",
  "slug": "azure-resource-manager-cosmosdb-dotnet",
  "description": "Azure Resource Manager SDK for Cosmos DB in .NET. Use for MANAGEMENT PLANE operations: creating/managing Cosmos DB accounts, databases, containers, throughput settings, and RBAC via Azure Resource Manager. NOT for data plane operations (CRUD on documents) - use Microsoft.Azure.Cosmos for that. Trigg",
  "category": "Document Processing",
  "source": "antigravity",
  "repoUrl": "https://github.com/sickn33/antigravity-awesome-skills",
  "skillUrl": "https://github.com/sickn33/antigravity-awesome-skills/tree/main/skills/azure-resource-manager-cosmosdb-dotnet",
  "content": "\n# Azure.ResourceManager.CosmosDB (.NET)\n\nManagement plane SDK for provisioning and managing Azure Cosmos DB resources via Azure Resource Manager.\n\n> **⚠️ Management vs Data Plane**\n> - **This SDK (Azure.ResourceManager.CosmosDB)**: Create accounts, databases, containers, configure throughput, manage RBAC\n> - **Data Plane SDK (Microsoft.Azure.Cosmos)**: CRUD operations on documents, queries, stored procedures execution\n\n## Installation\n\n```bash\ndotnet add package Azure.ResourceManager.CosmosDB\ndotnet add package Azure.Identity\n```\n\n**Current Versions**: Stable v1.4.0, Preview v1.4.0-beta.13\n\n## Environment Variables\n\n```bash\nAZURE_SUBSCRIPTION_ID=<your-subscription-id>\n# For service principal auth (optional)\nAZURE_TENANT_ID=<tenant-id>\nAZURE_CLIENT_ID=<client-id>\nAZURE_CLIENT_SECRET=<client-secret>\n```\n\n## Authentication\n\n```csharp\nusing Azure.Identity;\nusing Azure.ResourceManager;\nusing Azure.ResourceManager.CosmosDB;\n\n// Always use DefaultAzureCredential\nvar credential = new DefaultAzureCredential();\nvar armClient = new ArmClient(credential);\n\n// Get subscription\nvar subscriptionId = Environment.GetEnvironmentVariable(\"AZURE_SUBSCRIPTION_ID\");\nvar subscription = armClient.GetSubscriptionResource(\n    new ResourceIdentifier($\"/subscriptions/{subscriptionId}\"));\n```\n\n## Resource Hierarchy\n\n```\nArmClient\n└── SubscriptionResource\n    └── ResourceGroupResource\n        └── CosmosDBAccountResource\n            ├── CosmosDBSqlDatabaseResource\n            │   └── CosmosDBSqlContainerResource\n            │       ├── CosmosDBSqlStoredProcedureResource\n            │       ├── CosmosDBSqlTriggerResource\n            │       └── CosmosDBSqlUserDefinedFunctionResource\n            ├── CassandraKeyspaceResource\n            ├── GremlinDatabaseResource\n            ├── MongoDBDatabaseResource\n            └── CosmosDBTableResource\n```\n\n## Core Workflow\n\n### 1. Create Cosmos DB Account\n\n```csharp\nusing Azure.ResourceManager.CosmosDB;\nusing Azure.ResourceManager.CosmosDB.Models;\n\n// Get resource group\nvar resourceGroup = await subscription\n    .GetResourceGroupAsync(\"my-resource-group\");\n\n// Define account\nvar accountData = new CosmosDBAccountCreateOrUpdateContent(\n    location: AzureLocation.EastUS,\n    locations: new[]\n    {\n        new CosmosDBAccountLocation\n        {\n            LocationName = AzureLocation.EastUS,\n            FailoverPriority = 0,\n            IsZoneRedundant = false\n        }\n    })\n{\n    Kind = CosmosDBAccountKind.GlobalDocumentDB,\n    ConsistencyPolicy = new ConsistencyPolicy(DefaultConsistencyLevel.Session),\n    EnableAutomaticFailover = true\n};\n\n// Create account (long-running operation)\nvar accountCollection = resourceGroup.Value.GetCosmosDBAccounts();\nvar operation = await accountCollection.CreateOrUpdateAsync(\n    WaitUntil.Completed,\n    \"my-cosmos-account\",\n    accountData);\n\nCosmosDBAccountResource account = operation.Value;\n```\n\n### 2. Create SQL Database\n\n```csharp\nvar databaseData = new CosmosDBSqlDatabaseCreateOrUpdateContent(\n    new CosmosDBSqlDatabaseResourceInfo(\"my-database\"));\n\nvar databaseCollection = account.GetCosmosDBSqlDatabases();\nvar dbOperation = await databaseCollection.CreateOrUpdateAsync(\n    WaitUntil.Completed,\n    \"my-database\",\n    databaseData);\n\nCosmosDBSqlDatabaseResource database = dbOperation.Value;\n```\n\n### 3. Create SQL Container\n\n```csharp\nvar containerData = new CosmosDBSqlContainerCreateOrUpdateContent(\n    new CosmosDBSqlContainerResourceInfo(\"my-container\")\n    {\n        PartitionKey = new CosmosDBContainerPartitionKey\n        {\n            Paths = { \"/partitionKey\" },\n            Kind = CosmosDBPartitionKind.Hash\n        },\n        IndexingPolicy = new CosmosDBIndexingPolicy\n        {\n            Automatic = true,\n            IndexingMode = CosmosDBIndexingMode.Consistent\n        },\n        DefaultTtl = 86400 // 24 hours\n    });\n\nvar containerCollection = database.GetCosmosDBSqlContainers();\nvar containerOperation = await containerCollection.CreateOrUpdateAsync(\n    WaitUntil.Completed,\n    \"my-container\",\n    containerData);\n\nCosmosDBSqlContainerResource container = containerOperation.Value;\n```\n\n### 4. Configure Throughput\n\n```csharp\n// Manual throughput\nvar throughputData = new ThroughputSettingsUpdateData(\n    new ThroughputSettingsResourceInfo\n    {\n        Throughput = 400\n    });\n\n// Autoscale throughput\nvar autoscaleData = new ThroughputSettingsUpdateData(\n    new ThroughputSettingsResourceInfo\n    {\n        AutoscaleSettings = new AutoscaleSettingsResourceInfo\n        {\n            MaxThroughput = 4000\n        }\n    });\n\n// Apply to database\nawait database.CreateOrUpdateCosmosDBSqlDatabaseThroughputAsync(\n    WaitUntil.Completed,\n    throughputData);\n```\n\n### 5. Get Connection Information\n\n```csharp\n// Get keys\nvar keys = await account.GetKeysAsync();\nConsole.WriteLine($\"Primary Key: {keys.Value.PrimaryMasterKey}\");\n\n// Get connection strings\nvar connectionStrings = await account.GetConnectionStringsAsync();\nforeach (var cs in connectionStrings.Value.",
  "tags": [
    "api",
    "ai",
    "workflow",
    "document",
    "azure",
    "cro"
  ],
  "useCases": [],
  "scrapedAt": "2026-02-12T07:15:55.385Z"
}