{
  "id": "antigravity-temporal-python-testing",
  "name": "temporal-python-testing",
  "slug": "temporal-python-testing",
  "description": "Test Temporal workflows with pytest, time-skipping, and mocking strategies. Covers unit testing, integration testing, replay testing, and local development setup. Use when implementing Temporal workflow tests or debugging test failures.",
  "category": "Development & Code Tools",
  "source": "antigravity",
  "repoUrl": "https://github.com/sickn33/antigravity-awesome-skills",
  "skillUrl": "https://github.com/sickn33/antigravity-awesome-skills/tree/main/skills/temporal-python-testing",
  "content": "\n# Temporal Python Testing Strategies\n\nComprehensive testing approaches for Temporal workflows using pytest, progressive disclosure resources for specific testing scenarios.\n\n## Do not use this skill when\n\n- The task is unrelated to temporal python testing strategies\n- You need a different domain or tool outside this scope\n\n## Instructions\n\n- Clarify goals, constraints, and required inputs.\n- Apply relevant best practices and validate outcomes.\n- Provide actionable steps and verification.\n- If detailed examples are required, open `resources/implementation-playbook.md`.\n\n## Use this skill when\n\n- **Unit testing workflows** - Fast tests with time-skipping\n- **Integration testing** - Workflows with mocked activities\n- **Replay testing** - Validate determinism against production histories\n- **Local development** - Set up Temporal server and pytest\n- **CI/CD integration** - Automated testing pipelines\n- **Coverage strategies** - Achieve ≥80% test coverage\n\n## Testing Philosophy\n\n**Recommended Approach** (Source: docs.temporal.io/develop/python/testing-suite):\n\n- Write majority as integration tests\n- Use pytest with async fixtures\n- Time-skipping enables fast feedback (month-long workflows → seconds)\n- Mock activities to isolate workflow logic\n- Validate determinism with replay testing\n\n**Three Test Types**:\n\n1. **Unit**: Workflows with time-skipping, activities with ActivityEnvironment\n2. **Integration**: Workers with mocked activities\n3. **End-to-end**: Full Temporal server with real activities (use sparingly)\n\n## Available Resources\n\nThis skill provides detailed guidance through progressive disclosure. Load specific resources based on your testing needs:\n\n### Unit Testing Resources\n\n**File**: `resources/unit-testing.md`\n**When to load**: Testing individual workflows or activities in isolation\n**Contains**:\n\n- WorkflowEnvironment with time-skipping\n- ActivityEnvironment for activity testing\n- Fast execution of long-running workflows\n- Manual time advancement patterns\n- pytest fixtures and patterns\n\n### Integration Testing Resources\n\n**File**: `resources/integration-testing.md`\n**When to load**: Testing workflows with mocked external dependencies\n**Contains**:\n\n- Activity mocking strategies\n- Error injection patterns\n- Multi-activity workflow testing\n- Signal and query testing\n- Coverage strategies\n\n### Replay Testing Resources\n\n**File**: `resources/replay-testing.md`\n**When to load**: Validating determinism or deploying workflow changes\n**Contains**:\n\n- Determinism validation\n- Production history replay\n- CI/CD integration patterns\n- Version compatibility testing\n\n### Local Development Resources\n\n**File**: `resources/local-setup.md`\n**When to load**: Setting up development environment\n**Contains**:\n\n- Docker Compose configuration\n- pytest setup and configuration\n- Coverage tool integration\n- Development workflow\n\n## Quick Start Guide\n\n### Basic Workflow Test\n\n```python\nimport pytest\nfrom temporalio.testing import WorkflowEnvironment\nfrom temporalio.worker import Worker\n\n@pytest.fixture\nasync def workflow_env():\n    env = await WorkflowEnvironment.start_time_skipping()\n    yield env\n    await env.shutdown()\n\n@pytest.mark.asyncio\nasync def test_workflow(workflow_env):\n    async with Worker(\n        workflow_env.client,\n        task_queue=\"test-queue\",\n        workflows=[YourWorkflow],\n        activities=[your_activity],\n    ):\n        result = await workflow_env.client.execute_workflow(\n            YourWorkflow.run,\n            args,\n            id=\"test-wf-id\",\n            task_queue=\"test-queue\",\n        )\n        assert result == expected\n```\n\n### Basic Activity Test\n\n```python\nfrom temporalio.testing import ActivityEnvironment\n\nasync def test_activity():\n    env = ActivityEnvironment()\n    result = await env.run(your_activity, \"test-input\")\n    assert result == expected_output\n```\n\n## Coverage Targets\n\n**Recommended Coverage** (Source: docs.temporal.io best practices):\n\n- **Workflows**: ≥80% logic coverage\n- **Activities**: ≥80% logic coverage\n- **Integration**: Critical paths with mocked activities\n- **Replay**: All workflow versions before deployment\n\n## Key Testing Principles\n\n1. **Time-Skipping** - Month-long workflows test in seconds\n2. **Mock Activities** - Isolate workflow logic from external dependencies\n3. **Replay Testing** - Validate determinism before deployment\n4. **High Coverage** - ≥80% target for production workflows\n5. **Fast Feedback** - Unit tests run in milliseconds\n\n## How to Use Resources\n\n**Load specific resource when needed**:\n\n- \"Show me unit testing patterns\" → Load `resources/unit-testing.md`\n- \"How do I mock activities?\" → Load `resources/integration-testing.md`\n- \"Setup local Temporal server\" → Load `resources/local-setup.md`\n- \"Validate determinism\" → Load `resources/replay-testing.md`\n\n## Additional References\n\n- Python SDK Testing: docs.temporal.io/develop/python/testing-suite\n- Testing Patterns: github.com/temporalio/temporal/blob/main/docs/development/testing.md\n- Python Samp",
  "tags": [
    "python",
    "ai",
    "workflow",
    "docker",
    "rag"
  ],
  "useCases": [],
  "scrapedAt": "2026-01-29T07:00:46.823Z"
}