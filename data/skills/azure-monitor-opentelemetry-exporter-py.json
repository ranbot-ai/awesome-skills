{
  "id": "antigravity-azure-monitor-opentelemetry-exporter-py",
  "name": "azure-monitor-opentelemetry-exporter-py",
  "slug": "azure-monitor-opentelemetry-exporter-py",
  "description": "Azure Monitor OpenTelemetry Exporter for Python. Use for low-level OpenTelemetry export to Application Insights.\nTriggers: \"azure-monitor-opentelemetry-exporter\", \"AzureMonitorTraceExporter\", \"AzureMonitorMetricExporter\", \"AzureMonitorLogExporter\".\n",
  "category": "AI & Agents",
  "source": "antigravity",
  "repoUrl": "https://github.com/sickn33/antigravity-awesome-skills",
  "skillUrl": "https://github.com/sickn33/antigravity-awesome-skills/tree/main/skills/azure-monitor-opentelemetry-exporter-py",
  "content": "\n# Azure Monitor OpenTelemetry Exporter for Python\n\nLow-level exporter for sending OpenTelemetry traces, metrics, and logs to Application Insights.\n\n## Installation\n\n```bash\npip install azure-monitor-opentelemetry-exporter\n```\n\n## Environment Variables\n\n```bash\nAPPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=xxx;IngestionEndpoint=https://xxx.in.applicationinsights.azure.com/\n```\n\n## When to Use\n\n| Scenario | Use |\n|----------|-----|\n| Quick setup, auto-instrumentation | `azure-monitor-opentelemetry` (distro) |\n| Custom OpenTelemetry pipeline | `azure-monitor-opentelemetry-exporter` (this) |\n| Fine-grained control over telemetry | `azure-monitor-opentelemetry-exporter` (this) |\n\n## Trace Exporter\n\n```python\nfrom opentelemetry import trace\nfrom opentelemetry.sdk.trace import TracerProvider\nfrom opentelemetry.sdk.trace.export import BatchSpanProcessor\nfrom azure.monitor.opentelemetry.exporter import AzureMonitorTraceExporter\n\n# Create exporter\nexporter = AzureMonitorTraceExporter(\n    connection_string=\"InstrumentationKey=xxx;...\"\n)\n\n# Configure tracer provider\ntrace.set_tracer_provider(TracerProvider())\ntrace.get_tracer_provider().add_span_processor(\n    BatchSpanProcessor(exporter)\n)\n\n# Use tracer\ntracer = trace.get_tracer(__name__)\nwith tracer.start_as_current_span(\"my-span\"):\n    print(\"Hello, World!\")\n```\n\n## Metric Exporter\n\n```python\nfrom opentelemetry import metrics\nfrom opentelemetry.sdk.metrics import MeterProvider\nfrom opentelemetry.sdk.metrics.export import PeriodicExportingMetricReader\nfrom azure.monitor.opentelemetry.exporter import AzureMonitorMetricExporter\n\n# Create exporter\nexporter = AzureMonitorMetricExporter(\n    connection_string=\"InstrumentationKey=xxx;...\"\n)\n\n# Configure meter provider\nreader = PeriodicExportingMetricReader(exporter, export_interval_millis=60000)\nmetrics.set_meter_provider(MeterProvider(metric_readers=[reader]))\n\n# Use meter\nmeter = metrics.get_meter(__name__)\ncounter = meter.create_counter(\"requests_total\")\ncounter.add(1, {\"route\": \"/api/users\"})\n```\n\n## Log Exporter\n\n```python\nimport logging\nfrom opentelemetry._logs import set_logger_provider\nfrom opentelemetry.sdk._logs import LoggerProvider, LoggingHandler\nfrom opentelemetry.sdk._logs.export import BatchLogRecordProcessor\nfrom azure.monitor.opentelemetry.exporter import AzureMonitorLogExporter\n\n# Create exporter\nexporter = AzureMonitorLogExporter(\n    connection_string=\"InstrumentationKey=xxx;...\"\n)\n\n# Configure logger provider\nlogger_provider = LoggerProvider()\nlogger_provider.add_log_record_processor(BatchLogRecordProcessor(exporter))\nset_logger_provider(logger_provider)\n\n# Add handler to Python logging\nhandler = LoggingHandler(level=logging.INFO, logger_provider=logger_provider)\nlogging.getLogger().addHandler(handler)\n\n# Use logging\nlogger = logging.getLogger(__name__)\nlogger.info(\"This will be sent to Application Insights\")\n```\n\n## From Environment Variable\n\nExporters read `APPLICATIONINSIGHTS_CONNECTION_STRING` automatically:\n\n```python\nfrom azure.monitor.opentelemetry.exporter import AzureMonitorTraceExporter\n\n# Connection string from environment\nexporter = AzureMonitorTraceExporter()\n```\n\n## Azure AD Authentication\n\n```python\nfrom azure.identity import DefaultAzureCredential\nfrom azure.monitor.opentelemetry.exporter import AzureMonitorTraceExporter\n\nexporter = AzureMonitorTraceExporter(\n    credential=DefaultAzureCredential()\n)\n```\n\n## Sampling\n\nUse `ApplicationInsightsSampler` for consistent sampling:\n\n```python\nfrom opentelemetry.sdk.trace import TracerProvider\nfrom opentelemetry.sdk.trace.sampling import ParentBasedTraceIdRatio\nfrom azure.monitor.opentelemetry.exporter import ApplicationInsightsSampler\n\n# Sample 10% of traces\nsampler = ApplicationInsightsSampler(sampling_ratio=0.1)\n\ntrace.set_tracer_provider(TracerProvider(sampler=sampler))\n```\n\n## Offline Storage\n\nConfigure offline storage for retry:\n\n```python\nfrom azure.monitor.opentelemetry.exporter import AzureMonitorTraceExporter\n\nexporter = AzureMonitorTraceExporter(\n    connection_string=\"...\",\n    storage_directory=\"/path/to/storage\",  # Custom storage path\n    disable_offline_storage=False  # Enable retry (default)\n)\n```\n\n## Disable Offline Storage\n\n```python\nexporter = AzureMonitorTraceExporter(\n    connection_string=\"...\",\n    disable_offline_storage=True  # No retry on failure\n)\n```\n\n## Sovereign Clouds\n\n```python\nfrom azure.identity import AzureAuthorityHosts, DefaultAzureCredential\nfrom azure.monitor.opentelemetry.exporter import AzureMonitorTraceExporter\n\n# Azure Government\ncredential = DefaultAzureCredential(authority=AzureAuthorityHosts.AZURE_GOVERNMENT)\nexporter = AzureMonitorTraceExporter(\n    connection_string=\"InstrumentationKey=xxx;IngestionEndpoint=https://xxx.in.applicationinsights.azure.us/\",\n    credential=credential\n)\n```\n\n## Exporter Types\n\n| Exporter | Telemetry Type | Application Insights Table |\n|----------|---------------|---------------------------|\n| `AzureMonitorTraceExporter` | Traces/Spans | requests, dependen",
  "tags": [
    "python",
    "api",
    "ai",
    "azure",
    "rag",
    "cro"
  ],
  "useCases": [],
  "scrapedAt": "2026-02-12T07:15:53.615Z"
}