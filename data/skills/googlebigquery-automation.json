{
  "id": "composio-googlebigquery-automation",
  "name": "googlebigquery-automation",
  "slug": "googlebigquery-automation",
  "description": "Automate Google BigQuery tasks via Rube MCP (Composio): run SQL queries, explore datasets and metadata, execute MBQL queries via Metabase integration. Always search tools first for current schemas.",
  "category": "Development & Code Tools",
  "source": "composio",
  "repoUrl": "https://github.com/ComposioHQ/awesome-claude-skills",
  "skillUrl": "https://github.com/ComposioHQ/awesome-claude-skills/tree/master/googlebigquery-automation",
  "content": "\n# Google BigQuery Automation via Rube MCP\n\nRun SQL queries, explore database schemas, and analyze datasets through the Metabase integration using Rube MCP (Composio).\n\n**Toolkit docs**: [composio.dev/toolkits/googlebigquery](https://composio.dev/toolkits/googlebigquery)\n\n## Prerequisites\n- Rube MCP must be connected (RUBE_SEARCH_TOOLS available)\n- Active connection via `RUBE_MANAGE_CONNECTIONS` with toolkit `metabase`\n- A Metabase instance connected to your BigQuery data source\n- Always call `RUBE_SEARCH_TOOLS` first to get current tool schemas\n\n## Setup\n**Get Rube MCP**: Add `https://rube.app/mcp` as an MCP server in your client configuration. No API keys needed â€” just add the endpoint and it works.\n\n1. Verify Rube MCP is available by confirming `RUBE_SEARCH_TOOLS` responds\n2. Call `RUBE_MANAGE_CONNECTIONS` with toolkit `metabase`\n3. If connection is not ACTIVE, follow the returned auth link to complete setup\n4. Confirm connection status shows ACTIVE before running any workflows\n\n> **Note**: BigQuery data is accessed through Metabase, a business intelligence tool that connects to BigQuery as a data source. The tools below execute queries and retrieve metadata through Metabase's API.\n\n## Core Workflows\n\n### 1. Run a Native SQL Query\nUse `METABASE_POST_API_DATASET` with type `native` to execute raw SQL queries against your BigQuery database.\n```\nTool: METABASE_POST_API_DATASET\nParameters:\n  - database (required): Metabase database ID (integer)\n  - type (required): \"native\" for SQL queries\n  - native (required): Object with \"query\" string\n    - query: Raw SQL string (e.g., \"SELECT * FROM users LIMIT 10\")\n    - template_tags: Parameterized query variables (optional)\n  - constraints: { \"max-results\": 1000 } (optional)\n```\n\n### 2. Run a Structured MBQL Query\nUse `METABASE_POST_API_DATASET` with type `query` for Metabase Query Language queries with built-in aggregation and filtering.\n```\nTool: METABASE_POST_API_DATASET\nParameters:\n  - database (required): Metabase database ID\n  - type (required): \"query\" for MBQL\n  - query (required): Object with:\n    - source-table: Table ID (integer)\n    - aggregation: e.g., [[\"count\"]] or [[\"sum\", [\"field\", 5, null]]]\n    - breakout: Group-by fields\n    - filter: Filter conditions\n    - limit: Max rows\n    - order-by: Sort fields\n```\n\n### 3. Get Query Metadata\nUse `METABASE_POST_API_DATASET_QUERY_METADATA` to retrieve metadata about databases, tables, and fields available for querying.\n```\nTool: METABASE_POST_API_DATASET_QUERY_METADATA\nParameters:\n  - database (required): Metabase database ID\n  - type (required): \"query\" or \"native\"\n  - query (required): Query object (e.g., {\"source-table\": 1})\n```\n\n### 4. Convert Query to Native SQL\nUse `METABASE_POST_API_DATASET_NATIVE` to convert an MBQL query into its native SQL representation.\n```\nTool: METABASE_POST_API_DATASET_NATIVE\nParameters:\n  - database (required): Metabase database ID\n  - type (required): \"native\"\n  - native (required): Object with \"query\" and optional \"template_tags\"\n  - parameters: Query parameter values (optional)\n```\n\n### 5. List Available Databases\nUse `METABASE_GET_API_DATABASE` to discover all database connections configured in Metabase.\n```\nTool: METABASE_GET_API_DATABASE\nDescription: Retrieves a list of all Database instances configured in Metabase.\nNote: Call RUBE_SEARCH_TOOLS to get the full schema for this tool.\n```\n\n### 6. Get Database Schema Metadata\nUse `METABASE_GET_API_DATABASE_ID_METADATA` to retrieve complete table and field information for a specific database.\n```\nTool: METABASE_GET_API_DATABASE_ID_METADATA\nDescription: Retrieves complete metadata for a specific database including\n  all tables and fields.\nNote: Call RUBE_SEARCH_TOOLS to get the full schema for this tool.\n```\n\n## Common Patterns\n\n- **Discover then query**: Use `METABASE_GET_API_DATABASE` to find database IDs, then `METABASE_GET_API_DATABASE_ID_METADATA` to explore tables and fields, then `METABASE_POST_API_DATASET` to run queries.\n- **SQL-first approach**: Use `METABASE_POST_API_DATASET` with `type: \"native\"` and write standard SQL queries for maximum flexibility.\n- **Parameterized queries**: Use `template_tags` in native queries for safe parameterization (e.g., `SELECT * FROM users WHERE id = {{user_id}}`).\n- **Schema exploration**: Use `METABASE_POST_API_DATASET_QUERY_METADATA` to understand table structures before building complex queries.\n- **Get parameter values**: Use `METABASE_POST_API_DATASET_PARAMETER_VALUES` to retrieve possible values for filter dropdowns.\n\n## Known Pitfalls\n\n- The `database` parameter is a Metabase-internal **integer ID**, not the BigQuery project or dataset name. Use `METABASE_GET_API_DATABASE` to find valid database IDs first.\n- `source-table` in MBQL queries is also a Metabase-internal integer, not the BigQuery table name. Discover table IDs via metadata tools.\n- Native SQL queries use BigQuery SQL dialect (Standard SQL). Ensure your syntax is BigQuery-compatible.\n- `max-results` in constraints d",
  "tags": [
    "api",
    "cli",
    "mcp",
    "automation",
    "ai"
  ],
  "useCases": [],
  "scrapedAt": "2026-02-12T07:12:17.007Z"
}